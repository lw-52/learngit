(this.webpackJsonpdemo4=this.webpackJsonpdemo4||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"registerAc",(function(){return g}));var r=n(1),c=n(0),i=n(17),s=n.n(i),o=n(4),l=n(5),j=n(7),u=n(6),b=n(14),d=n(3),h=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(r.jsx)(b.b,{className:"navbar-brand",to:"/",children:"home"}),Object(r.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(r.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(r.jsx)("li",{className:"nav-item active",children:Object(r.jsx)(b.b,{className:"nav-link",to:"/register",children:"Sign up"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(b.b,{className:"nav-link",to:"/login",children:"Sign in"})})]})})]})}}]),n}(c.Component),p=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"jumbotron",children:[Object(r.jsx)("h1",{className:"display-4",children:"\u4f60\u597d"}),Object(r.jsx)("p",{className:"lead",children:"\u8bc6\u522b\u4eba\u8138"}),Object(r.jsx)("hr",{className:"my-4"})]})}}]),n}(c.Component),O=n(40),m=n(19),v=n(36),f=n.n(v).a,g=function(e){return function(t){return f.post("/api/register",e)}},x=n(13),y=n(26),w=n.n(y),N=n(37),k=(n(69),n(70),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={img:"\u8fd9\u662f\u4e2a\u56fe\u7247\u7684\u9ed8\u8ba4\u503c"},e.getMedia=function(){var e=document.getElementById("video");navigator.mediaDevices.getUserMedia({video:{width:500,height:500},audio:!0}).then((function(t){e.srcObject=t,e.play()}))},e.dataURLtoBlob=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),r=a.length,c=new Uint8Array(r);r--;)c[r]=a.charCodeAt(r);return new Blob([c],{type:n})},e.blobToFile=function(e,t){return e.lastModifiedDate=new Date,e.name=t,e},e.takePhoto=function(){var t=Object(N.a)(w.a.mark((function t(n){var a,r,c,i,s,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=document.getElementById("video"),r=document.getElementById("canvas"),r.getContext("2d").drawImage(a,0,0,300,400),c=r.toDataURL("image/png",.92),i=c.substr(22),console.log(i),e.setState({image:"hgjg"}),t.next=11,e.props.registerFn.registerAc(e.state);case 11:s=t.sent,o=s.data,console.log("\u8fd9\u662f\u4f20\u56de\u6765\u7684\u6570\u636e"),console.log(o);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){void 0!=window.location.hash.split("/")[1]&&""!=window.location.hash.split("/")[1]||this.getMedia()}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"auto",children:[Object(r.jsx)("video",{id:"video",width:"480",height:"320",autoPlay:!0}),Object(r.jsx)("canvas",{id:"canvas",width:"480",height:"320",style:{display:"none"}}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{id:"sure",onClick:this.takePhoto,title:"\u62cd\u7167",children:"\u62cd\u7167"})})]})}}]),n}(c.Component)),C=Object(d.e)(k),D=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(C,Object(O.a)({},this.props))}}]),n}(c.Component),S=Object(m.b)((function(e){return{registerData:e.register}}),(function(e){return{registerFn:Object(x.b)(a,e)}}))(D),A=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("form",{children:["\u3001",Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"username",children:"username"}),Object(r.jsx)("input",{type:"email",className:"form-control",id:"username"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{type:"password",className:"form-control",id:"password"})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign in"})]})}}]),n}(c.Component),B=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"alert alert-primary",role:"alert",children:["\u6536\u5230\u53cd\u9988",Object(r.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\u5173\u95ed"})})]})}}]),n}(c.Component),F=(c.Component,function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(b.a,{children:[Object(r.jsx)(h,{}),Object(r.jsxs)("switch",{children:[Object(r.jsx)(d.a,{path:"/",exact:!0,component:p}),Object(r.jsx)(d.a,{path:"/login",exact:!0,component:A}),Object(r.jsx)(d.a,{path:"/register",exact:!0,component:S})]})]})}}]),n}(c.Component)),M=Object(x.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),I=n(38),P=n(39),U=n.n(P),E=Object(x.d)(M,Object(x.a)(U.a,I.a));s.a.render(Object(r.jsx)(m.a,{store:E,children:Object(r.jsx)(F,{})}),document.querySelector("#root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.654a4af4.chunk.js.map